<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.6.0_27) on Fri Mar 02 14:51:58 CET 2018 -->
<title>Notif (CONF API Version 6.6)</title>
<meta name="date" content="2018-03-02">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Notif (CONF API Version 6.6)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Notif.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/tailf/notif/HeartbeatNotification.html" title="class in com.tailf.notif"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/tailf/notif/NotifException.html" title="class in com.tailf.notif"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/tailf/notif/Notif.html" target="_top">Frames</a></li>
<li><a href="Notif.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.tailf.notif</div>
<h2 title="Class Notif" class="title">Class Notif</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></li>
<li>
<ul class="inheritance">
<li>com.tailf.notif.Notif</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<hr>
<br>
<pre>public class <span class="strong">Notif</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class implements the Notifications API in Java.

 Applications can subscribe to certain events generated by the system. The API
 to receive events from the system is a socket based API whereby the
 application connects to ConfD/NCS and receives events on a socket. There are
 several types of events that can be subscribed to:
 <ul>
 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_AUDIT"><code>NotificationType.NOTIF_AUDIT</code></a> - all audit log events are sent from
 ConfD/NCS on the event notification socket.

 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_COMMIT_DIFF"><code>NotificationType.NOTIF_COMMIT_DIFF</code></a> - an event indicating that a
 user has somehow modified the configuration. The main difference between this
 event and the above mentioned NOTIF_COMMIT_SIMPLE is that this event is
 synchronous, i.e. the entire transaction hangs until we have explicitly
 called <a href="../../../com/tailf/notif/Notif.html#diffNotificationDone(int)"><code>diffNotificationDone(int)</code></a>. The purpose of this event is to
 give the applications a chance to read the configuration diffs from the
 transaction before it commits. A user subscribing to this event can use the
 MAAPI api to attach (Maapi.attach())to the running transaction and use
 Maapi.diffIterate() to iterate through the diff.

 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_COMMIT_FAILED"><code>NotificationType.NOTIF_COMMIT_FAILED</code></a> - This event is generated
 when a data provider fails in its commit callback. ConfD executes a two-phase
 commit procedure towards all data providers when committing transactions.
 When a provider fails in commit, the system is an unknown state. If the
 provider is "external", the name of failing daemon is provided. If the
 provider is another NETCONF agent, the IP address and port of that agent
 is provided.

 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_COMMIT_SIMPLE"><code>NotificationType.NOTIF_COMMIT_SIMPLE</code></a> - an event indicating that a
 user has somehow modified the configuration.

 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_COMMIT_PROGRESS"><code>NotificationType.NOTIF_COMMIT_PROGRESS</code></a> - This event provides
 progress information about the commit of a transaction, i.e. the same
 information that is reported when the commit | details CLI command is used.

 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_CONFIRMED_COMMIT"><code>NotificationType.NOTIF_CONFIRMED_COMMIT</code></a> - This event is generated
 when a user has started a confirmed commit, when a confirming commit is
 issued, or when a confirmed commit is aborted; represented by
 ConfirmNotification.confirm_type.

 For a confirmed commit, the timeout value is also present in the
 notification.

 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_FORWARD_INFO"><code>NotificationType.NOTIF_FORWARD_INFO</code></a> - This event is generated
 whenever whenever the server forwards (proxies) a northbound agent.

 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_HA_INFO"><code>NotificationType.NOTIF_HA_INFO</code></a> - an event related to ConfDs
 perception of the current cluster configuration.

 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_HEARTBEAT"><code>NotificationType.NOTIF_HEARTBEAT</code></a> - This event can be be used by
 applications that wish to monitor the health and liveness of the server
 itself. It needs to be requested through a Notif instance which has been
 constructed with a heartbeat_interval. The server will continuously generate
 heartbeat events on the notification socket. If the server fails to do so,
 the server is hung. The timeout interval is measured in milliseconds.
 Recommended value is 10000 milliseconds to cater for truly high load
 situations. Values less than 1000 are changed to 1000.

 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_SNMPA"><code>NotificationType.NOTIF_SNMPA</code></a> - This event is generated whenever
 an SNMP pdu is processed by the server. The application receives an
 SnmpaNotification with a list of all varbinds in the pdu. Each varbind
 contains subclasses that are internal to the SnmpaNotification.

 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_SUBAGENT_INFO"><code>NotificationType.NOTIF_SUBAGENT_INFO</code></a> - only sent if ConfD runs as
 a master agent with subagents enabled. This event is sent when the subagent
 connection is lost or reestablished. There are two event types, defined in
 <a href="../../../com/tailf/notif/SubagentNotification.html#subagent_info_type"><code>SubagentNotification.subagent_info_type</code></a>: subagent up and subagent
 down.

 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_DAEMON"><code>NotificationType.NOTIF_DAEMON</code></a> - all log events that also goes to
 the /confdConf/logs/confdLog log are sent from ConfD on the event
 notification socket.
 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_NETCONF"><code>NotificationType.NOTIF_NETCONF</code></a> - all log events that also goes to
 the /confdConf/logs/netconfLog log are sent from ConfD on the event
 notification socket.
 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_DEVEL"><code>NotificationType.NOTIF_DEVEL</code></a> - all log events that also goes to
 the /confdConf/logs/develLog log are sent from ConfD on the event
 notification socket.
 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_TAKEOVER_SYSLOG"><code>NotificationType.NOTIF_TAKEOVER_SYSLOG</code></a> - If this flag is present,
 ConfD will stop syslogging. The idea behind the flag is that we want to
 configure syslogging for ConfD in order to let ConfD log its startup
 sequence. Once ConfD is started we wish to subsume the syslogging done by
 ConfD. Typical applications that use this flag want to pick up all log
 messages, reformat them and use some local logging method.

 Once all subscriber sockets with this flag set are closed, ConfD will resume
 to syslog.
 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_UPGRADE_EVENT"><code>NotificationType.NOTIF_UPGRADE_EVENT</code></a> - This event is generated
 for the different phases of an in-service upgrade, i.e. when the data model
 is upgraded while the server is running. The application receives an
 UpgradeNotification where the UpgradeNotification.event_type gives the
 specific upgrade event. The events correspond to the invocation of the Maapi
 functions that drive the upgrade.

 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_USER_SESSION"><code>NotificationType.NOTIF_USER_SESSION</code></a> - an event related to user
 sessions. There are 6 different user session related event types, defined in
 <a href="../../../com/tailf/notif/UserSessNotification.html#user_sess_type"><code>UserSessNotification.user_sess_type</code></a>: session starts/stops, session
 locks/unlocks database, session starts/stop database transaction.

 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_PACKAGE_RELOAD"><code>NotificationType.NOTIF_PACKAGE_RELOAD</code></a> - an event indicating
 that NCS has completed a package reload.

 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_CQ_PROGRESS"><code>NotificationType.NOTIF_CQ_PROGRESS</code></a> - an event reporting
 the progress of commit queue entries.

 <li><a href="../../../com/tailf/notif/NotificationType.html#NOTIF_REOPEN_LOGS"><code>NotificationType.NOTIF_REOPEN_LOGS</code></a> - an event indicating
 that ConfD/NCS will close and reopen its log files.

 </ul>

 <p>
 Example:

 <pre>
      // int port = Conf.PORT for ConfD or Conf.NCS_PORT for NCS
      // create new notifications socket
      Socket notif_sock = new Socket("127.0.0.1", port);
      // init and connect the notification socket
      final Notif notif =
          new Notif(notif_sock,
                    EnumSet.of(NotificationType.NOTIF_AUDIT,
                               NotificationType.NOTIF_USER_SESSION));

       // read input from the notification socket
      Thread notifThread = new Thread(new Runnable() {
          public void run() {
              try {
                  while (true) notif.read();
              } catch (Exception e) {
                    e.printStackTrace();
                    return;
              }
          }
      });
      notifThread.start();
 </pre></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/tailf/notif/AuditNotification.html" title="class in com.tailf.notif"><code>AuditNotification</code></a>, 
<a href="../../../com/tailf/notif/CommitDiffNotification.html" title="class in com.tailf.notif"><code>CommitDiffNotification</code></a>, 
<a href="../../../com/tailf/notif/CommitFailedNotification.html" title="class in com.tailf.notif"><code>CommitFailedNotification</code></a>, 
<a href="../../../com/tailf/notif/CommitNotification.html" title="class in com.tailf.notif"><code>CommitNotification</code></a>, 
<a href="../../../com/tailf/notif/CommitProgressNotification.html" title="class in com.tailf.notif"><code>CommitProgressNotification</code></a>, 
<a href="../../../com/tailf/notif/ConfirmNotification.html" title="class in com.tailf.notif"><code>ConfirmNotification</code></a>, 
<a href="../../../com/tailf/notif/ForwardNotification.html" title="class in com.tailf.notif"><code>ForwardNotification</code></a>, 
<a href="../../../com/tailf/notif/HaNotification.html" title="class in com.tailf.notif"><code>HaNotification</code></a>, 
<a href="../../../com/tailf/notif/HeartbeatNotification.html" title="class in com.tailf.notif"><code>HeartbeatNotification</code></a>, 
<a href="../../../com/tailf/notif/SnmpaNotification.html" title="class in com.tailf.notif"><code>SnmpaNotification</code></a>, 
<a href="../../../com/tailf/notif/SubagentNotification.html" title="class in com.tailf.notif"><code>SubagentNotification</code></a>, 
<a href="../../../com/tailf/notif/SyslogNotification.html" title="class in com.tailf.notif"><code>SyslogNotification</code></a>, 
<a href="../../../com/tailf/notif/UpgradeNotification.html" title="class in com.tailf.notif"><code>UpgradeNotification</code></a>, 
<a href="../../../com/tailf/notif/UserSessNotification.html" title="class in com.tailf.notif"><code>UserSessNotification</code></a>, 
<a href="../../../com/tailf/notif/HealtCheckNotification.html" title="class in com.tailf.notif"><code>HealtCheckNotification</code></a>, 
<a href="../../../com/tailf/notif/PackageReloadNotification.html" title="class in com.tailf.notif"><code>PackageReloadNotification</code></a>, 
<a href="../../../com/tailf/notif/CommitQueueProgressNotification.html" title="class in com.tailf.notif"><code>CommitQueueProgressNotification</code></a>, 
<a href="../../../com/tailf/notif/ReopenLogsNotification.html" title="class in com.tailf.notif"><code>ReopenLogsNotification</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/tailf/notif/Notif.html#Notif(java.net.Socket, java.util.EnumSet)">Notif</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net">Socket</a>&nbsp;socket,
     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;<a href="../../../com/tailf/notif/NotificationType.html" title="enum in com.tailf.notif">NotificationType</a>&gt;&nbsp;eventTypes)</code>
<div class="block">Same functionality as for Notif(socket, eventTypes, cfg)
 except that no extra configuration is expected to be set in eventTypes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../com/tailf/notif/Notif.html#Notif(java.net.Socket, java.util.EnumSet, int)">Notif</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net">Socket</a>&nbsp;socket,
     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;<a href="../../../com/tailf/notif/NotificationType.html" title="enum in com.tailf.notif">NotificationType</a>&gt;&nbsp;eventTypes,
     int&nbsp;heartbeatInterval)</code>
<div class="block">Same functionality as for Notif(socket, eventTypes, cfg)
 except that only heartbeat notifications are expected to require
 to be configured

 Since the ConfD/NCS daemon expects initialization within
 5 seconds after a new socket is established this constructor should be
 called directly for a new socket.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/tailf/notif/Notif.html#Notif(java.net.Socket, java.util.EnumSet, int, int)">Notif</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net">Socket</a>&nbsp;socket,
     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;<a href="../../../com/tailf/notif/NotificationType.html" title="enum in com.tailf.notif">NotificationType</a>&gt;&nbsp;eventTypes,
     int&nbsp;heartbeatInterval,
     int&nbsp;healthCheckInterval)</code>
<div class="block">Same functionality as for Notif(socket, eventTypes, cfg)
 except that only heartbeat and healtcheck notifications
 are expected to require to be configured.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../com/tailf/notif/Notif.html#Notif(java.net.Socket, java.util.EnumSet, com.tailf.notif.NotificationCfg)">Notif</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net">Socket</a>&nbsp;socket,
     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;<a href="../../../com/tailf/notif/NotificationType.html" title="enum in com.tailf.notif">NotificationType</a>&gt;&nbsp;eventTypes,
     <a href="../../../com/tailf/notif/NotificationCfg.html" title="class in com.tailf.notif">NotificationCfg</a>&nbsp;cfg)</code>
<div class="block">Creates a notification instance.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/notif/Notif.html#diffNotificationDone(int)">diffNotificationDone</a></strong>(int&nbsp;thandle)</code>
<div class="block">If the received event from <a href="../../../com/tailf/notif/Notif.html#read()"><code>read()</code></a> was a
 <a href="../../../com/tailf/notif/CommitDiffNotification.html" title="class in com.tailf.notif"><code>CommitDiffNotification</code></a> it is important that we call this function
 when we are done reading the transaction diffs over MAAPI.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/tailf/notif/Notification.html" title="class in com.tailf.notif">Notification</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/notif/Notif.html#read()">read</a></strong>()</code>
<div class="block">Read in the data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/notif/Notif.html#syncAuditNotification(int)">syncAuditNotification</a></strong>(int&nbsp;usid)</code>
<div class="block">If the received event from <a href="../../../com/tailf/notif/Notif.html#read()"><code>read()</code></a> was a
 <a href="../../../com/tailf/notif/AuditNotification.html" title="class in com.tailf.notif"><code>AuditNotification</code></a> which was subscribed using the
 notification type <a href="../../../com/tailf/notif/NotificationType.html#NOTIF_AUDIT"><code>NotificationType.NOTIF_AUDIT</code></a>
 in combination with <a href="../../../com/tailf/notif/NotificationType.html#NOTIF_AUDIT_SYNC"><code>NotificationType.NOTIF_AUDIT_SYNC</code></a>
 it is important that we call this function or else the
 user session will hang indefinitely.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/notif/Notif.html#syncHaNotification()">syncHaNotification</a></strong>()</code>
<div class="block">If the received event from <a href="../../../com/tailf/notif/Notif.html#read()"><code>read()</code></a> was a
 <a href="../../../com/tailf/notif/HaNotification.html" title="class in com.tailf.notif"><code>HaNotification</code></a> which was subscribed using the
 notification type <a href="../../../com/tailf/notif/NotificationType.html#NOTIF_HA_INFO"><code>NotificationType.NOTIF_HA_INFO</code></a>
 in combination with <a href="../../../com/tailf/notif/NotificationType.html#NOTIF_HA_INFO_SYNC"><code>NotificationType.NOTIF_HA_INFO_SYNC</code></a>
 it is important that we call this function or else the
 user session will hang indefinitely.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Notif(java.net.Socket, java.util.EnumSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Notif</h4>
<pre>public&nbsp;Notif(<a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net">Socket</a>&nbsp;socket,
     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;<a href="../../../com/tailf/notif/NotificationType.html" title="enum in com.tailf.notif">NotificationType</a>&gt;&nbsp;eventTypes)
      throws <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
             <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Same functionality as for Notif(socket, eventTypes, cfg)
 except that no extra configuration is expected to be set in eventTypes.

 Since the ConfD/NCS daemon expects initialization within
 5 seconds after a new socket is established this constructor should be
 called directly for a new socket.

 <p>If encrypted communication towards ConfD/NCS is desired,
 an environment variable "CONFD_IPC_ACCESS_FILE" or "NCS_IPC_ACCESS_FILE"
 need to be set.
 This variable is expected to point to a file containing a secret salt.
  example:
     export CONFD_IPC_ACCESS_FILE=./secret_file.txt
 An alternative to the environment variable is to set an java system
 property with the same name pointing to the file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>socket</code> - notification socket</dd><dd><code>eventTypes</code> - set of all subscribed notification types</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="Notif(java.net.Socket, java.util.EnumSet, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Notif</h4>
<pre>public&nbsp;Notif(<a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net">Socket</a>&nbsp;socket,
     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;<a href="../../../com/tailf/notif/NotificationType.html" title="enum in com.tailf.notif">NotificationType</a>&gt;&nbsp;eventTypes,
     int&nbsp;heartbeatInterval)
      throws <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
             <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Same functionality as for Notif(socket, eventTypes, cfg)
 except that only heartbeat notifications are expected to require
 to be configured

 Since the ConfD/NCS daemon expects initialization within
 5 seconds after a new socket is established this constructor should be
 called directly for a new socket.

 <p>If encrypted communication towards ConfD/NCS is desired,
 an environment variable "CONFD_IPC_ACCESS_FILE" or "NCS_IPC_ACCESS_FILE"
 need to be set.
 This variable is expected to point to a file containing a secret salt.
  example:
     export CONFD_IPC_ACCESS_FILE=./secret_file.txt
 An alternative to the environment variable is to set an java system
 property with the same name pointing to the file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>socket</code> - notification socket</dd><dd><code>eventTypes</code> - set of all subscribed notification types</dd><dd><code>heartbeatInterval</code> - interval in seconds (<= 0 if not active)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="Notif(java.net.Socket, java.util.EnumSet, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Notif</h4>
<pre>public&nbsp;Notif(<a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net">Socket</a>&nbsp;socket,
     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;<a href="../../../com/tailf/notif/NotificationType.html" title="enum in com.tailf.notif">NotificationType</a>&gt;&nbsp;eventTypes,
     int&nbsp;heartbeatInterval,
     int&nbsp;healthCheckInterval)
      throws <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
             <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Same functionality as for Notif(socket, eventTypes, cfg)
 except that only heartbeat and healtcheck notifications
 are expected to require to be configured.

 Since the ConfD/NCS daemon expects initialization within
 5 seconds after a new socket is established this constructor should be
 called directly for a new socket.

 <p>If encrypted communication towards ConfD/NCS is desired,
 an environment variable "CONFD_IPC_ACCESS_FILE" or "NCS_IPC_ACCESS_FILE"
 need to be set.
 This variable is expected to point to a file containing a secret salt.
  example:
     export CONFD_IPC_ACCESS_FILE=./secret_file.txt
 An alternative to the environment variable is to set an java system
 property with the same name pointing to the file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>socket</code> - A socket connected to ConfD.</dd><dd><code>eventTypes</code> - EnumSet of NotificationType</dd><dd><code>heartbeatInterval</code> - interval in seconds (<= 0 if not active)</dd><dd><code>healthCheckInterval</code> - interval in seconds (<= 0 if not active)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/tailf/notif/NotifException.html" title="class in com.tailf.notif">NotifException</a></code> - Failed to initialize notification instance.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - Failed to read from notifications socket</dd>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/tailf/notif/Notif.html#read()"><code>read()</code></a></dd></dl>
</li>
</ul>
<a name="Notif(java.net.Socket, java.util.EnumSet, com.tailf.notif.NotificationCfg)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Notif</h4>
<pre>public&nbsp;Notif(<a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net">Socket</a>&nbsp;socket,
     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;<a href="../../../com/tailf/notif/NotificationType.html" title="enum in com.tailf.notif">NotificationType</a>&gt;&nbsp;eventTypes,
     <a href="../../../com/tailf/notif/NotificationCfg.html" title="class in com.tailf.notif">NotificationCfg</a>&nbsp;cfg)
      throws <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
             <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates a notification instance. The events will be read from the
 provided socket. The the configurated notifications are passed as an
 EnumSet<NotificationType> This constructor expects a
 <a href="../../../com/tailf/notif/NotificationCfg.html" title="class in com.tailf.notif"><code>NotificationCfg</code></a> argument which is used to set extra configuration
 data necessary for notifications of type
 <ul>
 <li> <a href="../../../com/tailf/notif/NotificationType.html#NOTIF_HEALTH_CHECK"><code>NotificationType.NOTIF_HEALTH_CHECK</code></a> </li>
 <li> <a href="../../../com/tailf/notif/NotificationType.html#NOTIF_HEARTBEAT"><code>NotificationType.NOTIF_HEARTBEAT</code></a> </li>
 <li> <a href="../../../com/tailf/notif/NotificationType.html#NOTIF_STREAM_EVENT"><code>NotificationType.NOTIF_STREAM_EVENT</code></a> </li>
 </ul>

 Since the ConfD/NCS daemon expects initialization within
 5 seconds after a new socket is established this constructor should be
 called directly for a new socket.

 <p>If encrypted communication towards ConfD/NCS is desired,
 an environment variable "CONFD_IPC_ACCESS_FILE" or "NCS_IPC_ACCESS_FILE"
 need to be set.
 This variable is expected to point to a file containing a secret salt.
  example:
     export CONFD_IPC_ACCESS_FILE=./secret_file.txt
 An alternative to the environment variable is to set an java system
 property with the same name pointing to the file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>socket</code> - A socket connected to ConfD.</dd><dd><code>eventTypes</code> - EnumSet of NotificationType</dd><dd><code>cfg</code> - event configuration data</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/tailf/notif/NotifException.html" title="class in com.tailf.notif">NotifException</a></code> - Failed to initialize notification instance.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - Failed to read from notifications socket</dd>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/tailf/notif/Notif.html#read()"><code>read()</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="diffNotificationDone(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>diffNotificationDone</h4>
<pre>public&nbsp;void&nbsp;diffNotificationDone(int&nbsp;thandle)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">If the received event from <a href="../../../com/tailf/notif/Notif.html#read()"><code>read()</code></a> was a
 <a href="../../../com/tailf/notif/CommitDiffNotification.html" title="class in com.tailf.notif"><code>CommitDiffNotification</code></a> it is important that we call this function
 when we are done reading the transaction diffs over MAAPI. The
 transaction is hanging until this function gets called.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>thandle</code> - The transaction handle. (given in the notification)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - Failed to write to the notification socket.</dd></dl>
</li>
</ul>
<a name="read()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;<a href="../../../com/tailf/notif/Notification.html" title="class in com.tailf.notif">Notification</a>&nbsp;read()
                  throws <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
                         <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Read in the data. The application is responsible for reading the
 notification socket. The method read() will return a <a href="../../../com/tailf/notif/Notification.html" title="class in com.tailf.notif"><code>Notification</code></a>
 of the following types:
 <ul>
 <li> <a href="../../../com/tailf/notif/AuditNotification.html" title="class in com.tailf.notif"><code>AuditNotification</code></a>
 <li> <a href="../../../com/tailf/notif/CommitDiffNotification.html" title="class in com.tailf.notif"><code>CommitDiffNotification</code></a>
 <li> <a href="../../../com/tailf/notif/CommitFailedNotification.html" title="class in com.tailf.notif"><code>CommitFailedNotification</code></a>
 <li> <a href="../../../com/tailf/notif/CommitNotification.html" title="class in com.tailf.notif"><code>CommitNotification</code></a>
 <li> <a href="../../../com/tailf/notif/CommitProgressNotification.html" title="class in com.tailf.notif"><code>CommitProgressNotification</code></a>
 <li> <a href="../../../com/tailf/notif/ConfirmNotification.html" title="class in com.tailf.notif"><code>ConfirmNotification</code></a>
 <li> <a href="../../../com/tailf/notif/ForwardNotification.html" title="class in com.tailf.notif"><code>ForwardNotification</code></a>
 <li> <a href="../../../com/tailf/notif/HaNotification.html" title="class in com.tailf.notif"><code>HaNotification</code></a>
 <li> <a href="../../../com/tailf/notif/HeartbeatNotification.html" title="class in com.tailf.notif"><code>HeartbeatNotification</code></a>
 <li> <a href="../../../com/tailf/notif/SnmpaNotification.html" title="class in com.tailf.notif"><code>SnmpaNotification</code></a>
 <li> <a href="../../../com/tailf/notif/SubagentNotification.html" title="class in com.tailf.notif"><code>SubagentNotification</code></a>
 <li> <a href="../../../com/tailf/notif/SyslogNotification.html" title="class in com.tailf.notif"><code>SyslogNotification</code></a>
 <li> <a href="../../../com/tailf/notif/UpgradeNotification.html" title="class in com.tailf.notif"><code>UpgradeNotification</code></a>
 <li> <a href="../../../com/tailf/notif/UserSessNotification.html" title="class in com.tailf.notif"><code>UserSessNotification</code></a>
 <li> <a href="../../../com/tailf/notif/HealtCheckNotification.html" title="class in com.tailf.notif"><code>HealtCheckNotification</code></a>
 </ul></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/tailf/notif/NotifException.html" title="class in com.tailf.notif">NotifException</a></code> - Failed to read notification.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - Failed to read from notification socket</dd>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd></dl>
</li>
</ul>
<a name="syncAuditNotification(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>syncAuditNotification</h4>
<pre>public&nbsp;void&nbsp;syncAuditNotification(int&nbsp;usid)
                           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">If the received event from <a href="../../../com/tailf/notif/Notif.html#read()"><code>read()</code></a> was a
 <a href="../../../com/tailf/notif/AuditNotification.html" title="class in com.tailf.notif"><code>AuditNotification</code></a> which was subscribed using the
 notification type <a href="../../../com/tailf/notif/NotificationType.html#NOTIF_AUDIT"><code>NotificationType.NOTIF_AUDIT</code></a>
 in combination with <a href="../../../com/tailf/notif/NotificationType.html#NOTIF_AUDIT_SYNC"><code>NotificationType.NOTIF_AUDIT_SYNC</code></a>
 it is important that we call this function or else the
 user session will hang indefinitely.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>usid</code> - The user id. (given in the notification)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - Failed to write to the notification socket.</dd></dl>
</li>
</ul>
<a name="syncHaNotification()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>syncHaNotification</h4>
<pre>public&nbsp;void&nbsp;syncHaNotification()
                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">If the received event from <a href="../../../com/tailf/notif/Notif.html#read()"><code>read()</code></a> was a
 <a href="../../../com/tailf/notif/HaNotification.html" title="class in com.tailf.notif"><code>HaNotification</code></a> which was subscribed using the
 notification type <a href="../../../com/tailf/notif/NotificationType.html#NOTIF_HA_INFO"><code>NotificationType.NOTIF_HA_INFO</code></a>
 in combination with <a href="../../../com/tailf/notif/NotificationType.html#NOTIF_HA_INFO_SYNC"><code>NotificationType.NOTIF_HA_INFO_SYNC</code></a>
 it is important that we call this function or else the
 user session will hang indefinitely.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Notif.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/tailf/notif/HeartbeatNotification.html" title="class in com.tailf.notif"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/tailf/notif/NotifException.html" title="class in com.tailf.notif"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/tailf/notif/Notif.html" target="_top">Frames</a></li>
<li><a href="Notif.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
