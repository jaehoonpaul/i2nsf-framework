<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.6.0_27) on Fri Mar 02 14:51:50 CET 2018 -->
<title>Cdb (CONF API Version 6.6)</title>
<meta name="date" content="2018-03-02">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Cdb (CONF API Version 6.6)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Cdb.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../com/tailf/cdb/CdbCLIDiffIterate.html" title="interface in com.tailf.cdb"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/tailf/cdb/Cdb.html" target="_top">Frames</a></li>
<li><a href="Cdb.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.tailf.cdb</div>
<h2 title="Class Cdb" class="title">Class Cdb</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></li>
<li>
<ul class="inheritance">
<li>com.tailf.cdb.Cdb</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<hr>
<br>
<pre>public class <span class="strong">Cdb</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class represents a connection to <code>ConfD/NCS</code> built in
 XML database.

 <p>A connection is established upon a new instance of this class providing
 either a <a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net"><code>Socket</code></a> or a <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/SocketChannel.html?is-external=true" title="class or interface in java.nio.channels"><code>SocketChannel</code></a> as its argument
 to the constructor. An object of this class is usually called
 a <i>"cdb socket"</i>.


 <p>There are mainly two things that can be achieved through
 a connection to <tt>CDB</tt>:

 <ul>
 <li><p><b><i>Starting a CDB Session</i></b> - A CDB session is used to read
 configuration data, or read/write operational data. These are short-lived
 sessions that are established though a call to <a href="../../../com/tailf/cdb/Cdb.html#startSession()"><code>startSession()</code></a>.
 The entire configuration part of CDB is locked for writing while any
 CDB read session is active. Use the <a href="../../../com/tailf/cdb/Cdb.html#startSession(com.tailf.cdb.CdbDBType)"><code>startSession(CdbDBType)</code></a>
 method to create a new session to
 read configuration data and read and write operational data.
 </p>
 <p>
 It is important to consider that a <code>CdbSession</code>
 has one-to-one relationship
 with a <code>Cdb</code> so before opening additional <code>CdbSession</code>
 one has to close previous opened.
 </p>
  <pre>
     Cdb cdbReadSocket = new Cdb ( "MyReadCdbSocket",
                             new Socket ( host ,port) );

     // Start Cdb session against running
      CdbSession cdbSession =
             cdbReadSocket.startSession ( CdbDBType.CDB_RUNNING );


       // read some values from CDB .
       cdbSession.endSession();
     cdbReadSocket.getSocket().close();
  </pre>

 <li><p><b><i>CDB Subscription</i></b> - The subscription functionality
 makes it
 possible to receive events/notifications of CDB configuration changes.
 <a href="../../../com/tailf/cdb/Cdb.html#newSubscription()"><code>newSubscription()</code></a> method to create a new Cdb subscription to
 subscribe on CDB configuration changes.
 </p>

 </ul></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/tailf/cdb/CdbSession.html" title="class in com.tailf.cdb"><code>CdbSession</code></a>, 
<a href="../../../com/tailf/cdb/CdbSubscription.html" title="class in com.tailf.cdb"><code>CdbSubscription</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#Cdb(java.lang.String, java.net.Socket)">Cdb</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
   <a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net">Socket</a>&nbsp;socket)</code>
<div class="block">Creates a new instance of a <code>Cdb</code> socket supplying a
 established open socket to ConfD/NCS daemon.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#Cdb(java.lang.String, java.nio.channels.SocketChannel)">Cdb</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
   <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/SocketChannel.html?is-external=true" title="class or interface in java.nio.channels">SocketChannel</a>&nbsp;channel)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#Cdb(java.lang.String, java.nio.channels.SocketChannel, int)">Cdb</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
   <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/SocketChannel.html?is-external=true" title="class or interface in java.nio.channels">SocketChannel</a>&nbsp;channel,
   int&nbsp;buffsize)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#close()">close</a></strong>()</code>
<div class="block">Closes the resources held by this <code>Cdb</code> socket.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/tailf/cdb/CdbSession.html" title="class in com.tailf.cdb">CdbSession</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#getCurrentSession()">getCurrentSession</a></strong>()</code>
<div class="block">Retrieve the current <code>CdbSession</code> started on this
  <code>Cdb</code> socket.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#getName()">getName</a></strong>()</code>
<div class="block">Retrieve the name of this <code>Cdb</code> socket.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/tailf/cdb/CdbPhase.html" title="class in com.tailf.cdb">CdbPhase</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#getPhase()">getPhase</a></strong>()</code>
<div class="block">Returns the start-phase CDB database is currently in.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/SelectionKey.html?is-external=true" title="class or interface in java.nio.channels">SelectionKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#getSelectionKey()">getSelectionKey</a></strong>()</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/Selector.html?is-external=true" title="class or interface in java.nio.channels">Selector</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#getSelector()">getSelector</a></strong>()</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net">Socket</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#getSocket()">getSocket</a></strong>()</code>
<div class="block">Retrieve the underlying socket used by this <code>Cdb</code> instance</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/SocketChannel.html?is-external=true" title="class or interface in java.nio.channels">SocketChannel</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#getSocketChannel()">getSocketChannel</a></strong>()</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/tailf/cdb/CdbTxId.html" title="class in com.tailf.cdb">CdbTxId</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#getTxId()">getTxId</a></strong>()</code>
<div class="block">Returns a <i>CdbTxid</i> object which represents the last transaction
 id from <i>CDB</i>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/tailf/cdb/CdbSubscription.html" title="class in com.tailf.cdb">CdbSubscription</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#newSubscription()">newSubscription</a></strong>()</code>
<div class="block">Creates a new <i>CDB Subscription</i>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#setTimeout(int)">setTimeout</a></strong>(int&nbsp;timeoutSecs)</code>
<div class="block">A timeout for cdb client actions can be specified via the config file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#setUseForCdbUpgrade()">setUseForCdbUpgrade</a></strong>()</code>
<div class="block">Sets this Cdb and the session it creates to be used for Cdb data
 upgrades.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#setUseForCdbUpgrade(java.util.List)">setUseForCdbUpgrade</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../com/tailf/conf/ConfNamespace.html" title="class in com.tailf.conf">ConfNamespace</a>&gt;&nbsp;removedNs)</code>
<div class="block">Sets this Cdb and the session it creates to be used for Cdb data
 upgrades.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/tailf/cdb/CdbSession.html" title="class in com.tailf.cdb">CdbSession</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#startSession()">startSession</a></strong>()</code>
<div class="block">Starts a new <i>CDB Session</i> on an already
 established <code>Cdb</code> against <a href="../../../com/tailf/cdb/CdbDBType.html#CDB_RUNNING"><code>CdbDBType.CDB_RUNNING</code></a>
 datastore with <a href="../../../com/tailf/cdb/CdbLockType.html#LOCK_SESSION"><code>CdbLockType.LOCK_SESSION</code></a> lock.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/tailf/cdb/CdbSession.html" title="class in com.tailf.cdb">CdbSession</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#startSession(com.tailf.cdb.CdbDBType)">startSession</a></strong>(<a href="../../../com/tailf/cdb/CdbDBType.html" title="enum in com.tailf.cdb">CdbDBType</a>&nbsp;dbtype)</code>
<div class="block">Starts a new <i>CDB Session</i> on an already
 established <code>Cdb</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/tailf/cdb/CdbSession.html" title="class in com.tailf.cdb">CdbSession</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#startSession(com.tailf.cdb.CdbDBType, java.util.EnumSet)">startSession</a></strong>(<a href="../../../com/tailf/cdb/CdbDBType.html" title="enum in com.tailf.cdb">CdbDBType</a>&nbsp;dbtype,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;<a href="../../../com/tailf/cdb/CdbLockType.html" title="enum in com.tailf.cdb">CdbLockType</a>&gt;&nbsp;lockflags)</code>
<div class="block">Starts a new <i>CDB Session</i> on an already
 established <code>Cdb</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#triggerOperSubscriptions(int[])">triggerOperSubscriptions</a></strong>(int[]&nbsp;spointArray)</code>
<div class="block">Function similar to <a href="../../../com/tailf/cdb/Cdb.html#triggerOperSubscriptions(int[], java.util.EnumSet)"><code>triggerOperSubscriptions(int[], EnumSet)</code></a>
 with the difference that this function will never wait to acquire a lock
 and therefore fail and throw an Exception if Cdb is locked.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#triggerOperSubscriptions(int[], java.util.EnumSet)">triggerOperSubscriptions</a></strong>(int[]&nbsp;spointArray,
                        <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;<a href="../../../com/tailf/cdb/CdbLockType.html" title="enum in com.tailf.cdb">CdbLockType</a>&gt;&nbsp;lockflags)</code>
<div class="block">Function to trigger operational subscriptions in similar to
  <a href="../../../com/tailf/cdb/Cdb.html#triggerSubscriptions(int[])"><code>triggerSubscriptions(int[])</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#triggerSubscriptions(int[])">triggerSubscriptions</a></strong>(int[]&nbsp;spointArray)</code>
<div class="block">Triggers Cdb subscription for configuration data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/tailf/cdb/Cdb.html#waitStart()">waitStart</a></strong>()</code>
<div class="block">This call waits until start-phase 1 is completed and <i>CDB</i>
 is available.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Cdb(java.lang.String, java.net.Socket)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Cdb</h4>
<pre>public&nbsp;Cdb(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
   <a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net">Socket</a>&nbsp;socket)
    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
           <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block">Creates a new instance of a <code>Cdb</code> socket supplying a
 established open socket to ConfD/NCS daemon.

 <p>The <code>name</code> parameter is just a string which may
 occur in certain error/debug messages i.e for example in
 the <i>devel.log</i>.

 <p>When establishing a connection to ConfD/NCS the
 <a href="../../../com/tailf/maapi/MaapiSchemas.html" title="class in com.tailf.maapi"><code>MaapiSchemas</code></a> will be loaded once automatically
 by the library.

 <p>If encrypted communication towards ConfD/NCS is desired,
 an environment variable "CONFD_IPC_ACCESS_FILE" or "NCS_IPC_ACCESS_FILE"
 need to be set.
 This variable is expected to point to a file containing a secret salt.
  example:
     export CONFD_IPC_ACCESS_FILE=./secret_file.txt
 An alternative to the environment variable is to set an java system
 property with the same name pointing to the file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - name of the <code>Cdb</code> instance</dd><dd><code>socket</code> - A socket connected to ConfD/NCS</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code> - If ConfD/NCS refuses to establish
         connection the reason could be obtained through
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true#getMessage()" title="class or interface in java.lang"><code>Throwable.getMessage()</code></a></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - signals I/O exception on the underlying socket</dd></dl>
</li>
</ul>
<a name="Cdb(java.lang.String, java.nio.channels.SocketChannel)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Cdb</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;Cdb(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
              <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/SocketChannel.html?is-external=true" title="class or interface in java.nio.channels">SocketChannel</a>&nbsp;channel)
    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
           <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">Same as <a href="../../../com/tailf/cdb/Cdb.html#Cdb(java.lang.String, java.nio.channels.SocketChannel, int)"><code>Cdb(String, SocketChannel, int)</code></a> with the buffsize
 set to the default which is 4Kb.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - </dd><dd><code>channel</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd></dl>
</li>
</ul>
<a name="Cdb(java.lang.String, java.nio.channels.SocketChannel, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Cdb</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;Cdb(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
              <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/SocketChannel.html?is-external=true" title="class or interface in java.nio.channels">SocketChannel</a>&nbsp;channel,
              int&nbsp;buffsize)
    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
           <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">Creates a new <i>Cdb socket</i> in a <i>non blocking mode</i>.

 <p>When establishing a connection to ConfD/NCS the
 <a href="../../../com/tailf/maapi/MaapiSchemas.html" title="class in com.tailf.maapi"><code>MaapiSchemas</code></a> will be loaded once automatically
 by the library.

 <p>If encrypted communication towards ConfD/NCS is desired,
 an environment variable "CONFD_IPC_ACCESS_FILE" or "NCS_IPC_ACCESS_FILE"
 need to be set.
 This variable is expected to point to a file containing a secret salt.
  example:
     export CONFD_IPC_ACCESS_FILE=./secret_file.txt
 An alternative to the environment variable is to set an java system
 property with the same name pointing to the file.

 <p>
 The <code>name</code> is just a string which may
 occur in certain error/debug messages for example in <i>devel.log</i>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - The name of the Cdb instance</dd><dd><code>channel</code> - A socket connected to ConfD/NCS</dd><dd><code>buffsize</code> - The size of the bytebuffer</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - signals I/O exception on the underlying socket</dd>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code> - If ConfD/NCS refuses to establish
         connection the reason could be obtained through
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true#getMessage()" title="class or interface in java.lang"><code>Throwable.getMessage()</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Closes the resources held by this <code>Cdb</code> socket.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - If I/O Error when closing resources
 held by this <code>Cdb</code> socket</dd></dl>
</li>
</ul>
<a name="getCurrentSession()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentSession</h4>
<pre>public&nbsp;<a href="../../../com/tailf/cdb/CdbSession.html" title="class in com.tailf.cdb">CdbSession</a>&nbsp;getCurrentSession()</pre>
<div class="block">Retrieve the current <code>CdbSession</code> started on this
  <code>Cdb</code> socket.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The current CdbSession started on this Cdb, null
       if no current CdbSession is started on this Cdb Socket.</dd></dl>
</li>
</ul>
<a name="getName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getName()</pre>
<div class="block">Retrieve the name of this <code>Cdb</code> socket.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The name of this Cdb socket instance</dd></dl>
</li>
</ul>
<a name="getPhase()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPhase</h4>
<pre>public&nbsp;<a href="../../../com/tailf/cdb/CdbPhase.html" title="class in com.tailf.cdb">CdbPhase</a>&nbsp;getPhase()
                  throws <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
                         <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns the start-phase CDB database is currently in.
 <p>Also if CDB is in <i>phase 0</i>
 and has initiated an init transaction (to load any init files) the flag
 <a href="../../../com/tailf/cdb/CdbPhase.html#FLAG_INIT"><code>CdbPhase.FLAG_INIT</code></a> is set in the flags field correspondingly if
 an upgrade session is started the <a href="../../../com/tailf/cdb/CdbPhase.html#FLAG_UPGRADE"><code>CdbPhase.FLAG_UPGRADE</code></a> is set.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/tailf/cdb/CdbException.html" title="class in com.tailf.cdb">CdbException</a></code> - Failed to get phase</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - Failed to read/write cdb socket</dd>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd></dl>
</li>
</ul>
<a name="getSelectionKey()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSelectionKey</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/SelectionKey.html?is-external=true" title="class or interface in java.nio.channels">SelectionKey</a>&nbsp;getSelectionKey()</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">Retrieve the <code>SelectionKey</code> used by this
 <code>Cdb</code> instance</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The underlying SelectionKey</dd></dl>
</li>
</ul>
<a name="getSelector()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSelector</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/Selector.html?is-external=true" title="class or interface in java.nio.channels">Selector</a>&nbsp;getSelector()</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">Retrieve the underlying (internal) <code>Selector</code> used by
 this <code>Cdb</code> socket.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The underlying selector used by this Cdb instance</dd></dl>
</li>
</ul>
<a name="getSocket()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSocket</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net">Socket</a>&nbsp;getSocket()</pre>
<div class="block">Retrieve the underlying socket used by this <code>Cdb</code> instance</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The underlying socket</dd></dl>
</li>
</ul>
<a name="getSocketChannel()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSocketChannel</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/SocketChannel.html?is-external=true" title="class or interface in java.nio.channels">SocketChannel</a>&nbsp;getSocketChannel()</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">Retrieve the underlying <code>SocketChannel</code> used by this
 <code>Cdb</code> instance</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The underlying <code>SocketChannel</code> or null if no
  available</dd></dl>
</li>
</ul>
<a name="getTxId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTxId</h4>
<pre>public&nbsp;<a href="../../../com/tailf/cdb/CdbTxId.html" title="class in com.tailf.cdb">CdbTxId</a>&nbsp;getTxId()
                throws <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns a <i>CdbTxid</i> object which represents the last transaction
 id from <i>CDB</i>.

 <p>
 This function can be used if we are forced to reconnect to
 <i>CDB</i>. If the transaction id we read is identical to
 the last id we had prior to loosing the <i>CDB</i> sockets we
 don't have to reload our managed object data.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/tailf/cdb/CdbException.html" title="class in com.tailf.cdb">CdbException</a></code> - Failed to get the last transaction id</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - Failed to read/write cdb socket</dd>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd></dl>
</li>
</ul>
<a name="newSubscription()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newSubscription</h4>
<pre>public&nbsp;<a href="../../../com/tailf/cdb/CdbSubscription.html" title="class in com.tailf.cdb">CdbSubscription</a>&nbsp;newSubscription()</pre>
<div class="block">Creates a new <i>CDB Subscription</i>.</div>
</li>
</ul>
<a name="setTimeout(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeout</h4>
<pre>public&nbsp;void&nbsp;setTimeout(int&nbsp;timeoutSecs)
                throws <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">A timeout for cdb client actions can be specified via the config file.
 This function can be used to dynamically extend (or shorten) the timeout
 for the current action.

 This function can be called either for a Cdb instance used for a cdb
 subscription or a Cdb instance used in an CdbSession.
 The timeout is given in seconds from the point in time when the function
 is called.

 Note
 The timeout for subscription delivery is common for all the subscribers
 receiving notifications at a given priority. Thus calling the function
 during subscription delivery changes the timeout for all the subscribers
 that are currently processing notifications.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timeoutSecs</code> - timeout in seconds</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="setUseForCdbUpgrade()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUseForCdbUpgrade</h4>
<pre>public&nbsp;void&nbsp;setUseForCdbUpgrade()</pre>
<div class="block">Sets this Cdb and the session it creates to be used for Cdb data
 upgrades. This is a specific startphase 0 use case.</div>
</li>
</ul>
<a name="setUseForCdbUpgrade(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUseForCdbUpgrade</h4>
<pre>public&nbsp;void&nbsp;setUseForCdbUpgrade(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../com/tailf/conf/ConfNamespace.html" title="class in com.tailf.conf">ConfNamespace</a>&gt;&nbsp;removedNs)</pre>
<div class="block">Sets this Cdb and the session it creates to be used for Cdb data
 upgrades. This is a specific startphase 0 use case.
 If a yang model is completely removed it needs to be temporarily
 reinstalled for CDB to be able to refer to it.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>removedNs</code> - List of removed ConfNamespace used earlier</dd></dl>
</li>
</ul>
<a name="startSession()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startSession</h4>
<pre>public&nbsp;<a href="../../../com/tailf/cdb/CdbSession.html" title="class in com.tailf.cdb">CdbSession</a>&nbsp;startSession()
                        throws <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Starts a new <i>CDB Session</i> on an already
 established <code>Cdb</code> against <a href="../../../com/tailf/cdb/CdbDBType.html#CDB_RUNNING"><code>CdbDBType.CDB_RUNNING</code></a>
 datastore with <a href="../../../com/tailf/cdb/CdbLockType.html#LOCK_SESSION"><code>CdbLockType.LOCK_SESSION</code></a> lock.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd></dl>
</li>
</ul>
<a name="startSession(com.tailf.cdb.CdbDBType)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startSession</h4>
<pre>public&nbsp;<a href="../../../com/tailf/cdb/CdbSession.html" title="class in com.tailf.cdb">CdbSession</a>&nbsp;startSession(<a href="../../../com/tailf/cdb/CdbDBType.html" title="enum in com.tailf.cdb">CdbDBType</a>&nbsp;dbtype)
                        throws <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Starts a new <i>CDB Session</i> on an already
 established <code>Cdb</code>.

 <p>The method starts a new session against the datastore
 specified by <code>dbtype</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dbtype</code> - Datastore to establish session to</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd></dl>
</li>
</ul>
<a name="startSession(com.tailf.cdb.CdbDBType, java.util.EnumSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startSession</h4>
<pre>public&nbsp;<a href="../../../com/tailf/cdb/CdbSession.html" title="class in com.tailf.cdb">CdbSession</a>&nbsp;startSession(<a href="../../../com/tailf/cdb/CdbDBType.html" title="enum in com.tailf.cdb">CdbDBType</a>&nbsp;dbtype,
                      <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;<a href="../../../com/tailf/cdb/CdbLockType.html" title="enum in com.tailf.cdb">CdbLockType</a>&gt;&nbsp;lockflags)
                        throws <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Starts a new <i>CDB Session</i> on an already
 established <code>Cdb</code>.

 <p>The method starts a new session against the datastore
 specified by <code>dbtype</code> with the locktype specified
 by the <code>lockflags</code>.

 <p>
 While it is possible to use this method to start a session towards
 a configuration database type with no locking at all, this is
 strongly discouraged in general, since it means that even the values
 read in a single multi-value request (e.g. <code>getObject()</code>)
 may be inconsistent with each other. However it is necessary to do
 this if we want to have a session open during semantic validation,
 see the
 "Semantic Validation" chapter in the User Guide - and in this
 particular case it is safe, since the transaction lock prevents
 changes to CDB during validation.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dbtype</code> - Datastore to establish session to</dd><dd><code>lockflags</code> - EnumSet of CdbLockType flags</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="triggerOperSubscriptions(int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>triggerOperSubscriptions</h4>
<pre>public&nbsp;void&nbsp;triggerOperSubscriptions(int[]&nbsp;spointArray)
                              throws <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
                                     <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Function similar to <a href="../../../com/tailf/cdb/Cdb.html#triggerOperSubscriptions(int[], java.util.EnumSet)"><code>triggerOperSubscriptions(int[], EnumSet)</code></a>
 with the difference that this function will never wait to acquire a lock
 and therefore fail and throw an Exception if Cdb is locked.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>spointArray</code> - int[] array of subscription points or null</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="triggerOperSubscriptions(int[], java.util.EnumSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>triggerOperSubscriptions</h4>
<pre>public&nbsp;void&nbsp;triggerOperSubscriptions(int[]&nbsp;spointArray,
                            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;<a href="../../../com/tailf/cdb/CdbLockType.html" title="enum in com.tailf.cdb">CdbLockType</a>&gt;&nbsp;lockflags)
                              throws <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
                                     <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Function to trigger operational subscriptions in similar to
  <a href="../../../com/tailf/cdb/Cdb.html#triggerSubscriptions(int[])"><code>triggerSubscriptions(int[])</code></a>.

  The caller will trigger all subscription points passed in the
  spointArray (or all operational data subscribers if this array is null),
  and the call will not return until the last subscriber has called
  <a href="../../../com/tailf/cdb/CdbSubscription.html#sync(com.tailf.cdb.CdbSubscriptionSyncType)"><code>CdbSubscription.sync(CdbSubscriptionSyncType)</code></a>.

  Since the generation of subscription notifications for operational data
  requires that the subscription lock is taken, this function implicitly
  attempts to take a "global" subscription lock.
  If the subscription lock is already taken, the function will by default
  return an Exception.
  o instead have it wait until the lock becomes available,
  EnumSet.of(CdbLockType.LOCK_WAIT) can be passed as lockflags parameter.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>spointArray</code> - int[] array of subscription points or null</dd><dd><code>lockflags</code> - null or EnumSet.of(CdbLockType.LOCK_WAIT)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="triggerSubscriptions(int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>triggerSubscriptions</h4>
<pre>public&nbsp;void&nbsp;triggerSubscriptions(int[]&nbsp;spointArray)
                          throws <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
                                 <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Triggers Cdb subscription for configuration data.

 <p>This method makes it possible to trigger <i>CDB subscriptions</i> for
 configuration data even though the configuration has not been modified.

 <p>
 The caller will trigger all subscription points passed in the
 <code>spointArray</code> array (or all subscribers if the array is
 of zero length) in priority
 order, and the call will not return until the last subscriber has called
 <a href="../../../com/tailf/cdb/CdbSubscription.html#sync(com.tailf.cdb.CdbSubscriptionSyncType)"><code>CdbSubscription.sync(CdbSubscriptionSyncType)</code></a>.

  <p>The call is blocking and doesn't return until all subscribers have
  acknowledged the notification. That means that it is not possible
  to use the method in a  cdb subscriber thread
  since it would cause a deadlock.

 <p>The subscription notification generated by this "synthetic" trigger
 will seem like a regular subscription notification to a subscription
 client. As such, it is possible to use
 <code>diffIterate</code> to traverse the changeset. CDB will make up
 this changeset in which all leafs in the configuration will appear to
 be set, and all list entries and presence
 containers will appear as if they are created.
 <p>
 If the client is a two-phase subscriber, a prepare notification will
 first be delivered and if any client aborts this synthetic
 transaction further delivery of subscription
 notification is suspended and an exception is returned to the caller of
 <code>triggerSubscriptions</code>.

 The error is the result of mapping the <code>CONFD_ERRCODE</code>
 as set by the aborting client.

 Note however that the configuration is still the way it is - so it is up
 to the caller of <code>triggerSubscriptions</code> to take appropriate
 action (for example: raising an alarm, restarting a subsystem, or
 even rebooting the system).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>spointArray</code> - subscription points to trigger</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code> - If one or more subscription ids is passed in
 the  <code>subids</code> array that are
 not valid, an <code>CdbException</code> will be thrown with error code
 (<code>getErrorCode</code>) set to <code>CONFD_ERR_PROTOUSAGE</code>
 will be returned and no subscriptions will be triggered</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - On I/O error.</dd></dl>
</li>
</ul>
<a name="waitStart()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>waitStart</h4>
<pre>public&nbsp;void&nbsp;waitStart()
               throws <a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
                      <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This call waits until start-phase 1 is completed and <i>CDB</i>
 is available.

 <p>If <i>CDB</i> already is available
 (i.e. start-phase &gt;= 1) the call returns
 immediately. This can be used by a CDB client who is not synchronously
 started and only wants to wait until it can read its configuration.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/tailf/cdb/CdbException.html" title="class in com.tailf.cdb">CdbException</a></code> - Failed to waitStart for some reason</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - Failed to read/write on the underlying socket</dd>
<dd><code><a href="../../../com/tailf/conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Cdb.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../com/tailf/cdb/CdbCLIDiffIterate.html" title="interface in com.tailf.cdb"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/tailf/cdb/Cdb.html" target="_top">Frames</a></li>
<li><a href="Cdb.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
